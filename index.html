<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tense Tutor: Evolution & Continuity</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: 210 80% 30%;
            --color-background: 220 20% 12%;
            --color-card-background: 220 20% 18%;
            --color-text-primary: 220 20% 90%;
            --color-text-secondary: 220 20% 70%;
            --color-border: 220 15% 25%;
            --color-example-bg: 220 20% 22%;
        }
        body { font-family: 'Inter', sans-serif; color: hsl(var(--color-text-primary)); background: hsl(var(--color-background)); line-height: 1.6; }
        h1, h2, h3 { font-family: 'Outfit', sans-serif; }
        .section-header { background: linear-gradient(90deg, #3b82f6 0%, #a855f7 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 700; }
        .card { background-color: hsl(var(--color-card-background)); border-radius: 1rem; padding: 1.5rem; border: 1px solid hsl(var(--color-border)); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4); }
        .tab-button { padding: 0.75rem 1.25rem; border-radius: 0.75rem; background-color: hsl(var(--color-background)); color: hsl(var(--color-text-secondary)); cursor: pointer; transition: 0.3s; text-align: left; }
        .tab-active { background-color: #a855f7; color: white; }
        .input-field { background-color: hsl(var(--color-example-bg)); border: 1px solid hsl(var(--color-border)); padding: 0.5rem; border-radius: 0.5rem; color: white; outline: none; text-align: center; }
        .feedback-correct { border: 1px solid #16a34a; background: rgba(22, 163, 74, 0.1); color: #4ade80; padding: 0.75rem; border-radius: 0.5rem; margin-top: 0.5rem; font-size: 0.9rem; }
        .feedback-incorrect { border: 1px solid #dc2626; background: rgba(220, 38, 38, 0.1); color: #f87171; padding: 0.75rem; border-radius: 0.5rem; margin-top: 0.5rem; font-size: 0.9rem; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-up { animation: fadeInUp 0.4s ease-out forwards; }
    </style>
</head>
<body class="min-h-screen">

    <div class="container mx-auto px-4 py-8">
        <header class="flex flex-col md:flex-row items-center justify-between pb-8 mb-8 border-b border-border">
            <h1 class="text-4xl font-bold section-header">Tense Tutor Online</h1>
            <nav class="text-text-secondary">Simple Past • Present Continuous • Still/Anymore</nav>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="md:col-span-1">
                <nav class="flex flex-col gap-3 p-4 bg-card rounded-xl border border-border sticky top-4">
                    <button class="tab-button tab-active" onclick="showSection('intro', this)">Overview</button>
                    <button class="tab-button" onclick="showSection('grammar', this)">Still & Anymore Rules</button>
                    <button class="tab-button" onclick="showSection('exercises', this)">Student Quiz (10 Qs)</button>
                </nav>
            </div>

            <div id="content-display" class="md:col-span-3 card animate-up">
                </div>
        </main>
    </div>

    <script>
        const content = {
            intro: `
                <h2 class="text-3xl font-bold mb-4">Tracking Change & Continuity</h2>
                <p class="mb-4">Welcome to the Tense Tutor. Use this tool to master how we describe the world as it evolves from past states to current trends.</p>
                <div class="p-4 bg-example-bg rounded-lg border-l-4 border-blue-500 mb-6">
                    <p class="italic">"Last year, the city <b>was</b> quiet, but now more people <b>are moving</b> here."</p>
                </div>
                <p class="text-text-secondary">Explore the rules for <b>Still/Anymore</b> and finish the 10-question quiz to email your results to your teacher.</p>
            `,
            grammar: `
                <h2 class="text-3xl font-bold mb-4 text-purple-400">Still vs. Anymore</h2>
                <div class="space-y-6">
                    <div>
                        <h3 class="text-xl font-bold mb-2">1. Still (Continuity)</h3>
                        <p class="text-text-secondary mb-2">Used for an action that continues from the past into the present. Often used with <b>Present Continuous</b>.</p>
                        <div class="p-3 bg-black/20 rounded font-mono text-sm">Example: "I started reading that book in June, and I am <b>still</b> reading it."</div>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold mb-2">2. Anymore (Cessation)</h3>
                        <p class="text-text-secondary mb-2">Used in negative sentences to show that a past habit or state has stopped. Usually follows <b>Simple Past</b> context.</p>
                        <div class="p-3 bg-black/20 rounded font-mono text-sm">Example: "We <b>lived</b> in the country, but we don't live there <b>anymore</b>."</div>
                    </div>
                </div>
            `,
            exercises: `
                <h2 class="text-3xl font-bold mb-2">Student Quiz</h2>
                <p class="text-sm text-gray-400 mb-6 italic">Answer every question and lock them to submit your final score.</p>
                <div class="mb-6">
                    <label class="block text-sm mb-1">Student Name:</label>
                    <input type="text" id="studentName" class="input-field w-full md:w-64 text-left" placeholder="Full Name">
                </div>
                <div id="quiz-container" class="space-y-6"></div>
                <div class="mt-8 text-center">
                    <button id="submitAll" onclick="submitToTeacher()" class="bg-green-600 px-8 py-3 rounded-full text-white font-bold hover:bg-green-500 hidden transition shadow-lg">
                        Send Results to Teacher
                    </button>
                </div>
            `
        };

        const questions = [
            { q: "I ________ (live) in London in 2015, but I ________ (still / live) in Paris now.", a1: "lived", a2: "am still living" },
            { q: "We ________ (have) a landline, but we don't use it ________ (anymore).", a1: "had", a2: "anymore" },
            { q: "The rain ________ (start) at noon and it ________ (still / rain) outside.", a1: "started", a2: "is still raining" },
            { q: "I ________ (watch) cartoons as a kid, but I don't watch them ________.", a1: "watched", a2: "anymore" },
            { q: "She ________ (lose) her keys yesterday and she ________ (still / look) for them.", a1: "lost", a2: "is still looking" },
            { q: "Prices ________ (be) low last winter, but they ________ (get) higher every day.", a1: "were", a2: "are getting" },
            { q: "He ________ (be) a chef for years, but he doesn't cook ________.", a1: "was", a2: "anymore" },
            { q: "My car ________ (break) down; that's why I ________ (still / walk) to work.", a1: "broke", a2: "am still walking" },
            { q: "The company ________ (hire) me in 2022, and I ________ (still / work) there.", a1: "hired", a2: "am still working" },
            { q: "I ________ (like) that band before, but I don't listen to them ________.", a1: "liked", a2: "anymore" }
        ];

        let quizResults = [];

        function showSection(id, btn) {
            document.getElementById('content-display').innerHTML = content[id];
            document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('tab-active'));
            btn.classList.add('tab-active');
            if(id === 'exercises') renderQuiz();
        }

        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = "";
            questions.forEach((item, i) => {
                const div = document.createElement('div');
                div.className = "p-4 bg-example-bg rounded-lg border border-border animate-up";
                div.innerHTML = `
                    <p class="mb-3">${i+1}. ${item.q.replace('________', `<input type="text" id="ans${i}a" class="input-field w-32 mx-1">`).replace('________', `<input type="text" id="ans${i}b" class="input-field w-32 mx-1">`)}</p>
                    <button onclick="check(${i})" id="btn${i}" class="text-xs bg-gray-600 px-3 py-1 rounded hover:bg-gray-500">Lock Answer</button>
                    <div id="feed${i}"></div>
                `;
                container.appendChild(div);
            });
        }

        function check(i) {
            const valA = document.getElementById(`ans${i}a`).value.trim().toLowerCase();
            const valB = document.getElementById(`ans${i}b`).value.trim().toLowerCase();
            const isCorrect = (valA === questions[i].a1 && valB === questions[i].a2);
            
            quizResults[i] = { q: i+1, studentAns: `${valA} / ${valB}`, correct: isCorrect };
            
            const feed = document.getElementById(`feed${i}`);
            feed.innerHTML = isCorrect ? `<div class="feedback-correct">Locked. Good job!</div>` : `<div class="feedback-incorrect">Locked. Keep trying!</div>`;
            document.getElementById(`btn${i}`).disabled = true;
            document.getElementById(`btn${i}`).style.opacity = "0.5";

            if (Object.keys(quizResults).length === questions.length) {
                document.getElementById('submitAll').classList.remove('hidden');
                document.getElementById('submitAll').classList.add('animate-up');
            }
        }

        async function submitToTeacher() {
            const name = document.getElementById('studentName').value.trim();
            if(!name) return alert("Please enter your name first!");
            
            const btn = document.getElementById('submitAll');
            btn.innerText = "Sending to Teacher...";
            btn.disabled = true;

            const score = quizResults.filter(r => r.correct).length;
            const report = quizResults.map(r => `Q${r.q}: ${r.studentAns} (${r.correct ? 'CORRECT' : 'WRONG'})`).join('\n');

            try {
                const response = await fetch("https://formspree.io/f/xjggejvw", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ student: name, score: `${score}/10`, details: report })
                });
                if (response.ok) {
                    alert("Success! Your teacher has received your results.");
                    btn.innerText = "Results Sent!";
                    btn.style.backgroundColor = "#4b5563";
                } else {
                    throw new Error();
                }
            } catch (err) { 
                alert("There was an error. Please try clicking the button again."); 
                btn.innerText = "Try Sending Again";
                btn.disabled = false;
            }
        }

        // Default to the intro section
        showSection('intro', document.querySelector('.tab-button'));
    </script>
</body>
</html>